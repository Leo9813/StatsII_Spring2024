#####################
# 1
#####################
unique_values <- unique(gdp_data$GDPWdiff)
for (i in unique_values) {
if (i > 0) {
print(paste(i, ": positive"))
} else if (i < 0) {
print(paste(i, ": negative"))
} else {
print(paste(i, ": no change"))
}
}
# Define the response variable and explanatory variables
x = df$REG
model <- multinom(GDPWdiff_category ~ REG + OIL, data = gdp_data)
GDPWdiff_category <- unique_values
model <- multinom(GDPWdiff_category ~ REG + OIL, data = gdp_data)
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
unique_values <- unique(gdp_data$GDPWdiff)
for (i in unique_values) {
if (i > 0) {
print(paste(i, ": positive"))
} else if (i < 0) {
print(paste(i, ": negative"))
} else {
print(paste(i, ": no change"))
}
}
# remove objects
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
lapply(c("nnet", "MASS"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
unique_values <- unique(gdp_data$GDPWdiff)
for (i in unique_values) {
if (i > 0) {
print(paste(i, ": positive"))
} else if (i < 0) {
print(paste(i, ": negative"))
} else {
print(paste(i, ": no change"))
}
}
View(gdp_data)
unique_values <- as.factor(unique_values )
unique_values <- as.factor(unique_values )
unique_values <- as.factor(unique_values )
unique_values <- as.factor(unique_values )
unique_values <- as.factor(unique_values )
print(unique_values )
# Setting "no change" as the reference category
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref="no chnage")
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
# Setting "no change" as the reference category
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref="no chnage")
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
# Create a new column to store the categories
gdp_data$GDPWdiff_category <- NA
# Iterate over unique values of GDPWdiff
unique_values <- unique(gdp_data$GDPWdiff)
for (i in unique_values) {
if (i > 0) {
gdp_data$GDPWdiff_category[gdp_data$GDPWdiff == i] <- "positive"
} else if (i < 0) {
gdp_data$GDPWdiff_category[gdp_data$GDPWdiff == i] <- "negative"
} else {
gdp_data$GDPWdiff_category[gdp_data$GDPWdiff == i] <- "no change"
}
}
# Print the first few rows to verify the transformation
head(gdp_data)
# Setting "no change" as the reference category
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref="no chnage")
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative",
ifelse(gdp_data$GDPWdiff=0,"no change")))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative",
ifelse(gdp_data$GDPWdiff==0,"no change")))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
#####################
# 1
#####################
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
#####################
# 1
#####################
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff==0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
stargazer(mul_mod)
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
# load libraries
# set wd
# clear global .envir
#####################
install.packages("stargazer")
#####################
# load libraries
# set wd
# clear global .envir
#####################
install.packages("stargazer")
library(stargazer)
# remove objects
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
lapply(c("nnet", "MASS"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# load libraries
# set wd
# clear global .envir
#####################
install.packages("stargazer")
library(stargazer)
# remove objects
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
lapply(c("nnet", "MASS"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff==0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
library(stargazer)
stargazer(mul_mod)
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "no change")
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
library(MASS)
#####################
# 2
#####################
# Running model
model <- polr(GDPWdiff ~ REG + OIL, data = gdp_data)
summary(model)
stargazer(model)
#####################
# 2
#####################
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
#####################
# 2
#####################
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
#####################
# 2
#####################
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
#####################
# 2
#####################
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
# Running model
model <- polr(GDPWdiff ~ REG + OIL, data = gdp_data)
summary(model)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
View(gdp_data)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
# load libraries
# set wd
# clear global .envir
#####################
# remove objects
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
library(stargazer)
library(MASS)
lapply(c("nnet", "MASS"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "no change")
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
#####################
# 2
#####################
# Since I set the reference category in the previous question,
# but normally "negative" would be the default reference, I have adjusted it.
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
# Running model
model <- polr(GDPWdiff ~ REG + OIL, data = gdp_data)
summary(model)
stargazer(model)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
head(mexico_elections)
view(mexico_elections)
#####################
mod.ps <- glm(competitive.district~ ., data = mexico_elections, family = poisson)
#####################
mod.ps <- glm(pan.vote.09~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
an.vote.09 <- as.logical(an.vote.09)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
#a
#####################
# wrangle
mexico_elections <- within(mexico_elections, {
an.vote.09 <- as.logical(an.vote.09)
})
# EDA
str(mexico_elections)
summary(mexico_elections)
with(mexico_elections,
list(mean(pan.vote.09), var(pan.vote.09)))
mod.ps <- glm(pan.vote.09~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
pan.vote.09 <- as.logical(pan.vote.09)
pan.vote<- as.logical(pan.vote)
pan.vote.09<- as.logical(pan.vote.09)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
#a
#####################
# wrangle
mexico_elections <- within(mexico_elections, {
PAN.governor.06<- as.logical(PAN.governor.06)
competitive.district<- as.logical(competitive.district)
})
# EDA
str(mexico_elections)
summary(mexico_elections)
with(mexico_elections,
list(mean(pan.vote.09), var(pan.vote.09)))
# Running model
mod.ps <- glm(pan.vote.09~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
stargazer(mod.ps)
# Running model
mod.ps <- glm(pan.visite.06~ ., data = mexico_elections, family = poisson)
# Running model
mod.ps <- glm(pan.visits.06~ ., data = mexico_elections, family = poisson)
with(mexico_elections,
list(mean(pan.visits.06), var(pan.visits.06)))
# Running model
mod.ps <- glm(pan.visits.06~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
with(mexico_elections,
list(mean(PAN.visits.06), var(PAN.visits.06)))
# Running model
mod.ps <- glm(PAN.visits.06~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
#####################
# load libraries
# set wd
# clear global .envir
#####################
# remove objects
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
library(stargazer)
library(MASS)
lapply(c("nnet", "MASS"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# load data
gdp_data <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/gdpChange.csv", stringsAsFactors = F)
#####################
# 1
#####################
#Categorising GDPWdiff
gdp_data$GDPWdiff <- ifelse(gdp_data$GDPWdiff>0,"positive",
ifelse(gdp_data$GDPWdiff<0,"negative","no change"))
gdp_data$GDPWdiff <- as.factor(gdp_data$GDPWdiff)
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "no change")
# Running model
mul_mod <- multinom(GDPWdiff~REG+OIL,data=gdp_data)
summary(mul_mod)
stargazer(mul_mod)
#####################
# 2
#####################
# Since I set the reference category in the previous question,
# but normally "negative" would be the default reference, I have adjusted it.
gdp_data$GDPWdiff <- relevel(gdp_data$GDPWdiff,ref = "negative","no change","positive")
# Running model
model <- polr(GDPWdiff ~ REG + OIL, data = gdp_data)
summary(model)
stargazer(model)
# load data
mexico_elections <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/StatsII_Spring2024/main/datasets/MexicoMuniData.csv")
#####################
#a
#####################
# wrangle
mexico_elections <- within(mexico_elections, {
PAN.governor.06<- as.logical(PAN.governor.06)
competitive.district<- as.logical(competitive.district)
})
# EDA
str(mexico_elections)
summary(mexico_elections)
with(mexico_elections,
list(mean(PAN.visits.06), var(PAN.visits.06)))
# Running model
mod.ps <- glm(PAN.visits.06~ ., data = mexico_elections, family = poisson)
summary(mod.ps)
# Running model
mod.ps <- glm(PAN.visits.06~ PAN.governor.06+competitive.district+marginality.06   ., data = mexico_elections, family = poisson)
# Running model
mod.ps <- glm(PAN.visits.06~ PAN.governor.06+competitive.district+marginality.06, data = mexico_elections, family = poisson)
summary(mod.ps)
stargazer(mod.ps)
